<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Scraped XPO Invoice Entries</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f7fa; padding: 30px; }
    h2 { margin-bottom: 20px; }
    .tab-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
    .tab-buttons button {
      padding: 10px 20px; border: none; background: #d6dff6; color: #1c3f93;
      font-weight: bold; border-radius: 6px; cursor: pointer;
    }
    .tab-buttons button.active { background: #1c3f93; color: white; }
    .tab-section { display: none; }
    .tab-section.active { display: block; }
    .filter-section {
      margin-bottom: 20px; display: flex; align-items: center;
      gap: 12px; flex-wrap: wrap;
    }
    .filter-section label { font-weight: bold; font-size: 16px; }
    .filter-section input[type="date"] {
      padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px;
      font-size: 14px; outline: none; transition: border 0.3s, box-shadow 0.3s;
    }
    .filter-section input[type="date"]:hover,
    .filter-section input[type="date"]:focus {
      border-color: #1c3f93;
      box-shadow: 0 0 5px rgba(28, 63, 147, 0.3);
    }
    #recordCount { font-weight: bold; font-size: 15px; color: #333; }
    .summary-tile {
      background-color: #ffffff; border: 1px solid #d9d9d9; border-left: 6px solid #1c3f93;
      padding: 16px 20px; font-size: 16px; font-weight: bold; color: #1c3f93;
      border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .record { border: 1px solid #ccc; margin-bottom: 15px; border-radius: 8px; background: white; overflow: hidden; }
    .record.manual-review { border-left: 6px solid #ffcc00; }
    .header {
      background: #1c3f93; color: white; padding: 12px 16px; font-weight: bold;
      cursor: pointer; position: relative;
    }
    .header input[type="checkbox"] {
      position: absolute; right: 16px; top: 12px;
      transform: scale(1.4); cursor: pointer;
    }
    .content { display: none; padding: 16px; }
    table { width: 100%; border-collapse: collapse; }
    td, th { padding: 8px 12px; border: 1px solid #ddd; }
    th { background-color: #f0f0f0; text-align: left; }
    td.copyable { cursor: pointer; background-color: white; transition: background-color 0.3s ease; position: relative; }
    td.copyable:hover { background-color: #eaf2ff; }
    td.copied { background-color: #d4edda !important; }
    .tooltip {
      position: absolute; top: 50%; right: 10px; transform: translateY(-50%);
      background-color: #28a745; color: white; padding: 3px 6px; border-radius: 3px;
      font-size: 12px; display: none;
    }
  </style>
</head>
<body>
<h2>üìã Scraped XPO Invoice Entries</h2>

<div class="filter-section">
  <label for="createdDate">Created Date:</label>
  <input type="date" id="createdDate" />
  <span id="recordCount">üìü Records found: ...</span>
</div>

<div id="summaryTile" class="summary-tile" style="display:none;">
  üìä Total Records: <span id="tileCount">0</span>
</div>

<div class="tab-buttons">
  <button id="tab-unreviewed" class="active">üìÇ Unreviewed</button>
  <button id="tab-reviewed">‚úÖ Reviewed</button>
  <button id="tab-manual-review" style="background:#fff8e1; color:#c29100; font-weight:bold;">‚ö†Ô∏è Manual Review</button>
</div>

<div id="unreviewedSection" class="tab-section active">
  <div id="unreviewedContainer">Loading...</div>
</div>
<div id="reviewedSection" class="tab-section">
  <div id="reviewedContainer"></div>
</div>
<div id="manualReviewSection" class="tab-section">
  <div id="manualReviewContainer"></div>
</div>

<script>
// Add inside renderRecords()
const manualReviewContainer = document.getElementById('manualReviewContainer');
...
manualReviewContainer.innerHTML = '';
...
const isManualReview = record.Manual_Review_Needed === true || record.Manual_Review_Needed === "true";
...
checkbox.addEventListener('change', () => {
  const reviewedVal = checkbox.checked ? "true" : "false";
  const url = `https://svnng1c8c3.execute-api.us-east-2.amazonaws.com/default/Mark_Reviewd_XPO?record_id=${recordId}&reviewed=${reviewedVal}`;
  fetch(url, { method: 'POST' })...
  if (checkbox.checked) {
    reviewedContainer.appendChild(wrapper);
  } else if (isManualReview) {
    manualReviewContainer.appendChild(wrapper);
  } else {
    unreviewedContainer.appendChild(wrapper);
  }
});
...
if (isReviewed) {
  reviewedContainer.appendChild(wrapper);
} else if (isManualReview) {
  wrapper.classList.add("manual-review");
  manualReviewContainer.appendChild(wrapper);
} else {
  unreviewedContainer.appendChild(wrapper);
}
...
document.getElementById("tab-manual-review").addEventListener("click", () => {
  document.getElementById("manualReviewSection").classList.add("active");
  document.getElementById("unreviewedSection").classList.remove("active");
  document.getElementById("reviewedSection").classList.remove("active");
  document.getElementById("tab-manual-review").classList.add("active");
  document.getElementById("tab-unreviewed").classList.remove("active");
  document.getElementById("tab-reviewed").classList.remove("active");
});
</script>
</body>
</html>
